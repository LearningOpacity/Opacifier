@startuml
database DataStore
actor Client

Client -> RequestReceiver : Auth Request

alt Vailid Auth
    Client <- RequestReceiver : Auth Success
    Client -> RequestReceiver : Request
    RequestReceiver -> Coordinator: Request
    Coordinator -> DataStore: Request Log

    alt Valid Request
        Coordinator -> ThridPartyQuerier: Request
        ThridPartyQuerier -> DataSource : Request

        group neg
            ThridPartyQuerier -->> ThridPartyQuerier : timeount
            Coordinator <- ThridPartyQuerier : Error
            Coordinator -> DataStore: Error Log
            RequestReceiver <- Coordinator: Error
            Client <- RequestReceiver : Response {timeout}
        end

        ThridPartyQuerier <- DataSource : Response
        Coordinator <- ThridPartyQuerier: Response
        Coordinator -> DataStore: Response Log
        RequestReceiver <- Coordinator: Response
        Client <- RequestReceiver : Response

    else Invalid Request
        Coordinator -> DataStore: Error Log
        RequestReceiver <- Coordinator: Error
        Client <- RequestReceiver : Response {invalid request}

    end
else Invalid Auth
    Client <- RequestReceiver : Auth Failure
end
@enduml